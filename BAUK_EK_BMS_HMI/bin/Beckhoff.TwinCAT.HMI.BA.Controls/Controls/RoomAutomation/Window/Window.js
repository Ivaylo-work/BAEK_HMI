var TcHmi;!function(t){!function(e){!function(i){!function(o){let n;!function(t){t.detail="detail",t.quickLinks="quickLinks"}(n||(n={}));class s extends i.System.BaseRoomControl{constructor(t,i,o){super(t,i,o),this.__defaultBaTemplateDescription=s.BaTemplateDescription,this.__positionFeedbackReady=[],this.__useCurrentPosition=!1,this.__uiFinishedHandler=(t,i)=>{i instanceof e.Components.Slider?this.__positionSlider&&this.writePositionToPlc(this.__positionSlider.getValue()):i instanceof e.Components.Checkbox&&this.__positionSwitch&&this.writePositionToPlc(this.__positionSwitch.getState())}}__previnit(){null==this.__baFc&&(this.__baFc=new s.Icon(this.__id+"-ba-fc",this)),super.__previnit(),this.__element.append(this.__baFc.getElement()),void 0===this.__attrHandler.readOnly&&this.setReadOnly(!1),this.baInterfaceHandler.baInterfaceDefinition=s.BaInterfaceDef,this.setBaInterfaceSymbolNames(s.BaInterfaceSymbolNames)}__init(){super.__init()}__attach(){super.__attach(),e.Helper.appendSourroundingElementsDimensionRectangle(this.__element,15),this.__destroyersToCallOnDetach.push(t.EventProvider.register(i.BuildingGeneral.BuildingInformation.BuildingInformantionEvents.onBuildingInformationChanged,()=>this.__onBuildingInformationChanged())),this.__onBuildingInformationChanged(),this.__baFc.setPosition(null!=this.__attrHandler.positionFeedback?this.__attrHandler.positionFeedback:this.__attrHandler.position)}__detach(){super.__detach()}destroy(){var t,e;this.__keepAlive||(null!=this.__destroyOnPositionSliderChanged&&(this.__destroyOnPositionSliderChanged(),delete this.__destroyOnPositionSliderChanged),null!=this.__destroyOnPositionSwitchUIFinised&&(this.__destroyOnPositionSwitchUIFinised(),delete this.__destroyOnPositionSwitchUIFinised),null!=this.__destroyOnPositionSliderUIFinised&&(this.__destroyOnPositionSliderUIFinised(),delete this.__destroyOnPositionSliderUIFinised),null===(t=this.__positionSlider)||void 0===t||t.destroy(),null===(e=this.__positionSwitch)||void 0===e||e.destroy(),o.Sunblind.destroyBuildingInformationAlarms(this),super.destroy())}__onBuildingInformationChanged(){let t=o.Sunblind.handleBuildingInformation(this,this.__attrHandler.facadeName,this.__element.children(".alarm-container"));t?(this.__element.append(t),this.__baFc.backgroundStyler.setImageColor(e.Color.RGBAColor.Red)):(this.__element.children(".alarm-container").detach(),this.__baFc.backgroundStyler.setImageColor(null))}__processChangedPosition(t){if(this.__useCurrentPosition=!0,this.setPosition(t),null!=this.__attrHandler.positionFeedback&&this.__attrHandler.position!=this.__attrHandler.positionFeedback){let t=()=>{this.__positionFeedbackReady.forEach(t=>t()),this.__positionFeedbackReady=[],this.setPosition(this.__attrHandler.positionFeedback)},i=this.logger.logPerformance(e.Logger.Severity.debug,"Position feedback response."),n=()=>{i()};this.__positionFeedbackReady.push(this.busyHandler.setBusy("Waiting for PositionFeedback",{cbOnTimeout:t,cbOnReady:n,showIndicator:o.showBusyIndicator}))}}__createOrUpdateElements(){if(null==this.__attrHandler.position)return;let t=this.__attrHandler.position;switch(null!=this.__attrHandler.positionFeedback&&0==this.__useCurrentPosition&&(t=this.__attrHandler.positionFeedback),this.__useCurrentPosition=!1,typeof t){case"number":this.__positionSwitch&&(this.__removeControl(n.detail,this.__positionSwitch),delete this.__positionSwitch,null!=this.__destroyOnPositionSwitchUIFinised&&(this.__destroyOnPositionSwitchUIFinised(),delete this.__destroyOnPositionSwitchUIFinised)),null==this.__positionSlider&&(this.__positionSlider=new e.Components.Slider(this.__id+"-position-slider",this),this.__positionSlider.setShowScale(!1).setShowValue(!1).setKnobAppearance(e.Components.Slider.KnobAppearance.round).setShowBusyIndicator(o.showBusyIndicator).layoutHandler.setMaxHeight(10).setMinHeight(10),this.__addControl(n.detail,this.__positionSlider,1),this.__destroyOnPositionSliderUIFinised=this.__positionSlider.eventHandler.register(e.Components.Slider.SliderEvents.onUserInteractionFinished,this.__uiFinishedHandler),this.__destroyOnPositionSliderChanged=this.__positionSlider.eventHandler.register(e.Components.Slider.SliderEvents.onValueChanged,()=>{null!=this.__positionSlider&&(this.__baFc.setPosition(this.__positionSlider.getValue()),this.__updateDisplay(this.__positionSlider.getValue()))})),this.__positionSlider.setMinValue(this.__attrHandler.closePosition).setMaxValue(this.__attrHandler.openPosition),this.__createOrUpdateQuickLinks(),this.__positionSlider.setValue(this.__attrHandler.position),null!=this.__attrHandler.positionFeedback&&this.__positionSlider.setValueFeedback(this.__attrHandler.positionFeedback);let i=this.__getControl(n.quickLinks,"toggle");i&&null!=this.__attrHandler.closePosition&&i.setState(t>this.__attrHandler.closePosition);break;case"boolean":this.__positionSlider&&(this.__removeControl(n.detail,this.__positionSlider),delete this.__positionSlider),null==this.__positionSwitch&&(this.__positionSwitch=new e.Components.Checkbox(this.__id+"-position-switch",this),this.__positionSwitch.setActiveText(null).setInactiveText(null).setAppearance(e.Components.Checkbox.Appearance.toggleSlider).setReadOnly(!1).layoutHandler.setMaxHeight(25).setMinHeight(25).setMaxWidth(50).setMinWidth(50),this.__addControl(n.detail,this.__positionSwitch,1),this.__destroyOnPositionSwitchUIFinised=this.__positionSwitch.eventHandler.register(e.Components.Checkbox.CheckboxEvents.onUserInteractionFinished,this.__uiFinishedHandler)),this.__element.removeClass("has-quick-links"),this.__removeAllControls(n.quickLinks),this.__positionSwitch.setState(t)}this.__baFc.setPosition(t),this.__updateDisplay(t)}__createOrUpdateQuickLinks(){if(0!=s.ShowQuickLinks&&!this.__element.hasClass("has-quick-links")&&null!=this.__attrHandler.closePosition&&null!=this.__attrHandler.openPosition){this.__element.addClass("has-quick-links"),this.__addControls(n.quickLinks,[{type:e.Components.ComponentType.Checkbox,name:"toggle",settings:{appearance:e.Components.Checkbox.Appearance.toggleSlider,readOnly:!1,layout:{maxHeight:25,minHeight:25,maxWidth:35,minWidth:35}},callback:t=>{this.writePositionToPlc(1==t?this.__attrHandler.openPosition:this.__attrHandler.closePosition)}},{type:e.Components.ComponentType.Button,callback:()=>{this.writePositionToPlc((this.__attrHandler.openPosition-this.__attrHandler.closePosition)/4+this.__attrHandler.closePosition)}},{type:e.Components.ComponentType.Button,callback:()=>{this.writePositionToPlc((this.__attrHandler.openPosition-this.__attrHandler.closePosition)/2+this.__attrHandler.closePosition)}},{type:e.Components.ComponentType.Button,callback:()=>{this.writePositionToPlc(3*(this.__attrHandler.openPosition-this.__attrHandler.closePosition)/4+this.__attrHandler.closePosition)}}],2);for(let e=1;e<this.__getControls(n.quickLinks).length;e++){let i=this.__getControls(n.quickLinks)[e];switch(e){case 1:i.getElement().css("--tchmi-ba-window-position",10);break;case 2:i.getElement().css("--tchmi-ba-window-position",20);break;case 3:i.getElement().css("--tchmi-ba-window-position",30)}i.setAttributes({background:{image:this.__attrHandler.displayMode===s.Icon.DisplayMode.roofDome?t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.RoomAutomation.Window")+"/Images/RoofDome_small.svg":t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.RoomAutomation.Window")+"/Images/Window_small.svg",imageHeight:90,imageHeightUnit:"%",imageWidth:90,imageWidthUnit:"%"}})}}}__updateDisplay(t){null==t&&(t=0),this.__attrHandler.showValue?(this.__element.addClass("show-displays"),s.Icon.getPositionText(t,this.__attrHandler.closePosition,this.__attrHandler.openPosition,t=>{this.__attrHandler.showValue?this.__baFc.textHandler.setText(t):this.__baFc.textHandler.setText(null)}),this.__baFc.getElement().append(this.__baFc.textHandler.getTextElement())):(this.__element.removeClass("show-displays"),this.__baFc.textHandler.setText(null),this.__baFc.textHandler.getTextElement().detach())}static processBaObject(t,i){var o;let n=t.baObjectHandler;null!=n&&(null===(o=n.baObject)||void 0===o?void 0:o.checkTemplate(s.BaTemplateDefinition,t.baTemplateHandler.baBaTemplateDescription,t,!0))&&(n.tryWatchChildrenBaVariable(n.baObject.getTemplateChild("commandOpen"),e.BA.BaParameterId.ePresentValue,t=>{i.processPosition(t)}),n.tryWatchChildrenBaVariable(n.baObject.getTemplateChild("feedback"),e.BA.BaParameterId.ePresentValue,t=>{i.processPositionFeedback(t)}),i.processHasResetSymbol(null!=n.baObject.findChildBySubjectInfoIdentifier("ResetState")))}static getOperationStateDisplayIcon(t){switch(t){case s.OperationState.safetyPosition:return e.Icons.RoomAutomation.SafetyPosition;case s.OperationState.maintenance:return e.Icons.RoomAutomation.MaintenancePosition;case s.OperationState.manual:return e.Icons.RoomAutomation.Manual;case s.OperationState.autoActive:case s.OperationState.autoInactive:return e.Icons.RoomAutomation.Automatic;default:return e.Logger.log(e.Logger.Severity.warn,`Invalid operation state '${t}'`),null}}static getOperationStateDisplayBackgroundAttributes(t){var i;if(!t)return{image:null,imageColor:null};let o={imageHeight:80,imageHeightUnit:"%",imageWidth:80,imageWidthUnit:"%",useSVG:!0};switch(o.image=null===(i=this.getOperationStateDisplayIcon(t))||void 0===i?void 0:i.path,t){case s.OperationState.safetyPosition:case s.OperationState.maintenance:case s.OperationState.manual:o.imageColor=e.Color.RGBAColor.DarkOrange;break;case s.OperationState.autoActive:o.imageColor=e.Color.RGBAColor.TcHmiGreen;break;case s.OperationState.autoInactive:o.imageColor=e.Color.RGBAColor.White}return o}static writePositionToPlc(t,i){var o,n;null!=t&&"boolean"==typeof t&&(i instanceof e.BA.BaView?t?null===(o=i.getTemplateChild("commandOpen"))||void 0===o||o.tryWriteBaVariableValue(e.BA.BaParameterId.ePresentValue,!0,t=>{e.Logger.checkServerResult(e.Logger.Severity.warn,t)}):null===(n=i.getTemplateChild("commandClose"))||void 0===n||n.tryWriteBaVariableValue(e.BA.BaParameterId.ePresentValue,!0,t=>{e.Logger.checkServerResult(e.Logger.Severity.warn,t)}):i instanceof e.BA.BaBasicObject||e.BaInterfaceHandler)}writePositionToPlc(t){var e;1!=this.busyHandler.getIsBusy()&&null!=t&&((null===(e=this.baObjectHandler.baObject)||void 0===e?void 0:e.checkTemplate(s.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription))&&s.writePositionToPlc(t,this.baObjectHandler.baObject),this.__processChangedPosition(t))}setBaObject(t){return this.baObjectHandler.setBaObject(t),this}getBaObject(){return this.baObjectHandler.baObject}setAttributes(t){return super.setAttributes(t),void 0!==t.position&&this.setPosition(t.position),void 0!==t.positionFeedback&&this.setPositionFeedback(t.positionFeedback),void 0!==t.closePosition&&this.setClosePosition(t.closePosition),void 0!==t.openPosition&&this.setOpenPosition(t.openPosition),void 0!==t.facadeName&&this.setFacadeName(t.facadeName),void 0!==t.operationState&&this.setOperationState(t.operationState),void 0!==t.showValue&&this.setShowValue(t.showValue),this}getAttributes(){return this.__attrHandler}setBaInterface(t){return super.setBaInterface(t),this.baInterfaceHandler.setBaInterfaceSym(t,()=>{s.processBaInterface(this,{processPosition:t=>this.setPosition(t),processPositionFeedback:t=>this.setPositionFeedback(t),processOperationState:t=>this.setOperationState(t),processHasResetSymbol:t=>this.__hasResetSymbol=t})}),this}setPosition(e){let i=null;if(null!=e)switch(typeof e){case"boolean":case"number":i=e;break;default:i=t.ValueConverter.toNumber(e),null==i&&(i=t.ValueConverter.toBoolean(e))}return null==i&&(i=this.getAttributeDefaultValueInternal("Position")),i===this.__attrHandler.position||(this.__attrHandler.position=i,this.__processPosition(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Position"}),t.EventProvider.raise(this.__id+".onPositionChanged")),this}__processPosition(){this.__createOrUpdateElements()}getPosition(){return this.__attrHandler.position}setPositionFeedback(e){let i=null;if(null!=e)switch(typeof e){case"boolean":case"number":i=e;break;default:i=t.ValueConverter.toNumber(e),null==i&&(i=t.ValueConverter.toBoolean(e))}return null==i&&(i=this.getAttributeDefaultValueInternal("PositionFeedback")),i===this.__attrHandler.positionFeedback||(this.__attrHandler.positionFeedback=i,null!=this.__attrHandler.positionFeedback&&(this.__processPositionFeedback(),this.__positionFeedbackReady.forEach(t=>t()),this.__positionFeedbackReady=[],t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PositionFeedback"}))),this}__processPositionFeedback(){this.__createOrUpdateElements()}getPositionFeedback(){return this.__attrHandler.positionFeedback}setClosePosition(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("MinPosition")),i===this.__attrHandler.closePosition||(this.__attrHandler.closePosition=i,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MinPosition"}),this.__processClosePosition()),this}__processClosePosition(){null!=this.__positionSlider&&this.__positionSlider.setMinValue(this.__attrHandler.closePosition),this.__baFc.setClosePosition(this.__attrHandler.closePosition),this.__createOrUpdateElements()}getClosePosition(){return this.__attrHandler.closePosition}setOpenPosition(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("MaxPosition")),i===this.__attrHandler.openPosition||(this.__attrHandler.openPosition=i,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MaxPosition"}),this.__processOpenPosition()),this}__processOpenPosition(){null!=this.__positionSlider&&this.__positionSlider.setMaxValue(this.__attrHandler.openPosition),this.__baFc.setOpenPosition(this.__attrHandler.openPosition),this.__createOrUpdateElements()}getMaxPosition(){return this.__attrHandler.openPosition}setFacadeName(e){let i=t.ValueConverter.toString(e);return null==i&&(i=this.getAttributeDefaultValueInternal("FacadeName")),i===this.__attrHandler.facadeName||(this.__attrHandler.facadeName=i,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FacadeName"}),this.__processFacadeName()),this}__processFacadeName(){}getFacadeName(){return this.__attrHandler.facadeName}setDisplayMode(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("DisplayMode")),i===this.__attrHandler.displayMode||(this.__attrHandler.displayMode=i,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DisplayMode"}),this.__processDisplayMode()),this}__processDisplayMode(){this.__baFc.setDisplayMode(this.__attrHandler.displayMode),this.__createOrUpdateElements()}getDisplayMode(){return this.__attrHandler.displayMode}setIconRotation(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("IconRotation")),i===this.__baFc.backgroundStyler.getImageRotation()||(this.__baFc.backgroundStyler.setImageRotation(i),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconRotation"})),this}getIconRotation(){return this.__baFc.backgroundStyler.getImageRotation()}setOperationState(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("OperationState")),i===this.__attrHandler.operationState||(this.__attrHandler.operationState=i,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"OperationState"}),this.__processOperationState()),this}__processOperationState(){var t;if(this.__attrHandler.operationState){this.__appendOperationStateDisplay(!0),null===(t=this.__operationStateDisplay)||void 0===t||t.backgroundStyler.setAttributes(s.getOperationStateDisplayBackgroundAttributes(this.__attrHandler.operationState));let e=s.getOperationStateDisplayIcon(this.__attrHandler.operationState);null!=e&&(this.__operationStateLegenIconHandler.icon=e,this.__isAttached&&this.__operationStateLegenIconHandler.show()),this.__attrHandler.operationState!=o.Light.OperationState.manual?this.__appendResetManualOperationStateButton(!1):this.__attrHandler.operationState===o.Light.OperationState.manual&&this.__hasResetSymbol&&this.__appendResetManualOperationStateButton(!0)}else this.__appendOperationStateDisplay(!1),this.__appendResetManualOperationStateButton(!1),this.__operationStateLegenIconHandler.hide()}getOperationState(){return this.__attrHandler.operationState}setShowValue(e){let i=t.ValueConverter.toBoolean(e);return null==i&&(i=this.getAttributeDefaultValueInternal("ShowValue")),i===this.__attrHandler.showValue||(this.__attrHandler.showValue=i,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowValue"}),this.__processShowValue()),this}__processShowValue(){this.__createOrUpdateElements()}getShowValue(){return this.__attrHandler.showValue}processBaObject(){super.processBaObject(),s.processBaObject(this,{processPosition:t=>this.setPosition(t),processPositionFeedback:t=>this.setPositionFeedback(t),processOperationState:t=>this.setOperationState(t),processHasResetSymbol:t=>this.__hasResetSymbol=t})}static processBaInterface(t,e){t.baInterfaceHandler.watchSubSymbol("commandOpen",t=>{e.processPosition(t)}),t.baInterfaceHandler.hasSubSymbol("feedback")&&t.baInterfaceHandler.watchSubSymbol("feedback",t=>{e.processPositionFeedback(t)}),e.processHasResetSymbol(t.baInterfaceHandler.hasSubSymbol("reset")),t.baInterfaceHandler.hasSubSymbol("operationState")&&t.baInterfaceHandler.watchSubSymbol("operationState",t=>{e.processOperationState(t)})}}o.Window=s,function(o){let n;o.BaTemplateDefinition={commandOpen:{},commandClose:{},feedback:{optional:!0}},o.BaTemplateDescription={commandOpen:{identifier:"CommandOpen"},commandClose:{identifier:"CommandClose"},feedback:{identifier:"Feedback"}},o.BaInterfaceDef=Object.assign(Object.assign({},i.System.BaseRoomControl.BaInterfaceDef),{commandOpen:{type:"boolean"},commandClose:{type:"boolean"},feedback:{type:"boolean",optional:!0},operationState:{type:"integer",optional:!0},reset:{type:"boolean",optional:!0}}),o.BaInterfaceSymbolNames=Object.assign(Object.assign({},i.System.BaseRoomControl.BaInterfaceSymbolNames),{commandOpen:{symbolName:"cmdOpen"},commandClose:{symbolName:"cmdClose"},feedback:{symbolName:"feedback"},operationState:{symbolName:"operationState"},reset:{symbolName:"reset"}}),function(t){t[t.invalid=0]="invalid",t[t.autoActive=1]="autoActive",t[t.manual=2]="manual",t[t.autoInactive=3]="autoInactive",t[t.maintenance=4]="maintenance",t[t.safetyPosition=5]="safetyPosition"}(n=o.OperationState||(o.OperationState={})),o.ShowQuickLinks=!1;class s extends e.Components.Button{constructor(t,i,o){super(t,i,o),this.resizeHandler=new e.Components.ResizeHandler(this)}__init(t){var i,o;super.__init(t),this.__legendIconHandler=new e.Components.LegendIconHandler,void 0===(null==t?void 0:t.displayMode)&&this.setDisplayMode(s.DisplayMode.standard),void 0===(null===(i=null==t?void 0:t.background)||void 0===i?void 0:i.imageHeight)&&this.backgroundStyler.setImageHeight(90,"%"),void 0===(null===(o=null==t?void 0:t.background)||void 0===o?void 0:o.imageWidth)&&this.backgroundStyler.setImageWidth(90,"%")}__attach(){this.__isAttached||(null!=this.__legendIconHandler.icon&&this.__legendIconHandler.show(),super.__attach())}__detach(){this.__isAttached&&(this.__legendIconHandler.hide(),super.__detach())}destroy(){this.resizeHandler.destroy(),super.destroy()}onResized(){let i=this.__element[0].getBoundingClientRect(),o=i.height,n=i.width;switch(this.eventHandler.register(e.Components.BackgroundStyler.Events.onSvgLoaded,t=>{t.destroy(),this.__animatePosition()}),this.__attrHandler.displayMode){case s.DisplayMode.roofDome:n<70||o<70?this.backgroundStyler.setImage(t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.RoomAutomation.Window")+"/Images/RoofDome_small.svg",!0):this.backgroundStyler.setImage(t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.RoomAutomation.Window")+"/Images/RoofDome.svg",!0),this.__legendIconHandler.icon=e.Icons.RoomAutomation.RoofDome;break;default:n<70||o<70?this.backgroundStyler.setImage(t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.RoomAutomation.Window")+"/Images/Window_small.svg",!0):this.backgroundStyler.setImage(t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.RoomAutomation.Window")+"/Images/Window.svg",!0),this.__legendIconHandler.icon=e.Icons.RoomAutomation.Window}this.__isAttached&&this.__legendIconHandler.show()}__animatePosition(){let t=this.backgroundStyler.getSvg();if(null!=t){let e=t.find(".tchmi-ba-window-icon");if(null==e[0])return;let i=0,o=80;this.__attrHandler.displayMode===s.DisplayMode.roofDome&&(o=20),"number"==typeof this.__attrHandler.position?null!=this.__attrHandler.closePosition&&null!=this.__attrHandler.openPosition&&null!=this.__attrHandler.position&&(i=o/(this.__attrHandler.openPosition-this.__attrHandler.closePosition)*(this.__attrHandler.position-this.__attrHandler.closePosition)):i=this.__attrHandler.position?o:0,(i<0||isNaN(i))&&(i=0),e.css("--tchmi-ba-window-position",i),e.css("transition","transform 200ms linear")}}static getPositionText(t,i,o,n){if(null!=t&&null!=i&&null!=o&&"number"==typeof t)n(e.Helper.Number.toPercentage(t,i,o).toFixed(0)+" %");else if(null!=t&&null!=i&&null!=o&&"boolean"==typeof t){let i=t?e.Locale.LangKey.Open:e.Locale.LangKey.Closed;e.Locale.Localization.watchText(i,t=>{e.Logger.checkServerResult(e.Logger.Severity.warn,t)&&null!=t.text&&n(t.text)})}else n("?")}setAttributes(t){return super.setAttributes(t),void 0!==t.position&&this.setPosition(t.position),void 0!==t.closePosition&&this.setClosePosition(t.closePosition),void 0!==t.openPosition&&this.setOpenPosition(t.openPosition),void 0!==t.displayMode&&this.setDisplayMode(t.displayMode),this}getAttributes(){return this.__attrHandler.getRef()}setPosition(t){return this.__attrHandler.checkAttribute(t,"position",{validator:["boolean","number"]})?(this.__attrHandler.position=t,this.__processPosition(),this):this}__processPosition(){this.__animatePosition()}getPosition(){return this.__attrHandler.position}setClosePosition(t){return this.__attrHandler.checkAttribute(t,"closePosition",{validator:"number"})?(this.__attrHandler.closePosition=t,this.__processClosePosition(),this):this}__processClosePosition(){this.__animatePosition()}getClosePosition(){return this.__attrHandler.closePosition}setOpenPosition(t){return this.__attrHandler.checkAttribute(t,"openPosition",{validator:"number"})?(this.__attrHandler.openPosition=t,this.__processOpenPosition(),this):this}__processOpenPosition(){this.__animatePosition()}getOpenPosition(){return this.__attrHandler.openPosition}setDisplayMode(t){return this.__attrHandler.checkAttribute(t,"displayMode",{validator:"number"})?(this.__attrHandler.displayMode=t,this.__processDisplayMode(),this):this}__processDisplayMode(){this.onResized(),this.__animatePosition()}getDisplayMode(){return this.__attrHandler.displayMode}__processReadOnly(){super.__processReadOnly(),!0===this.__attrHandler.readOnly?this.__element.removeClass("button"):this.__element.addClass("button")}}o.Icon=s,function(t){let e;!function(t){t[t.standard=0]="standard",t[t.roofDome=1]="roofDome"}(e=t.DisplayMode||(t.DisplayMode={}))}(s=o.Icon||(o.Icon={}))}(s=o.Window||(o.Window={}))}(i.RoomAutomation||(i.RoomAutomation={}))}(e.Controls||(e.Controls={}))}(t.BuildingAutomation||(t.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("Window","TcHmi.BuildingAutomation.Controls.RoomAutomation",TcHmi.BuildingAutomation.Controls.RoomAutomation.Window);