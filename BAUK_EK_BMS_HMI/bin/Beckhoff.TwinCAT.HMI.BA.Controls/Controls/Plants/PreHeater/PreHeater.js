var TcHmi;!function(t){!function(e){!function(s){!function(s){class o extends s.HeatingCircuit{constructor(t,s,i){super(t,s,i),this.__defaultBaTemplateDescription=o.BaTemplateDescription,this.__frostThermostatLegendHandler=new e.Components.LegendIconHandler}__previnit(){var o;super.__previnit(),null===(o=this.__main)||void 0===o||o.setIcon(e.Icons.HVAC.Heater.path),this.__legendIconHandler.icon=e.Icons.HVAC.Heater,this.__frostThermostat=t.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Common.UiIcon",this.__id+"-frost-thermostat",null,this),null!=this.__frostThermostat&&(this.__frostThermostat.setConnections({bottom:40}).setIcon(e.Icons.HVAC.Freeze_s.path).getElement().addClass("frost-thermostat"),this.__element.append(this.__frostThermostat.getElement()),this.__frostThermostatLegendHandler.icon=e.Icons.HVAC.Freeze_s),this.__tFrost=t.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.SensorAnalog",this.__id+"-t-frost",null,this),null!=this.__tFrost&&(this.__tFrost.setDisplayMode(s.SensorAnalog.DisplayMode.temperature).setDisplayPositionDesigner(e.Components.UiIcon.DisplayPosition.top).setShowSetpoint(!1).getElement().addClass("t-frost"),this.__element.append(this.__tFrost.getElement())),this.__flowTempSensor&&this.__flowTempSensor.setShowSetpoint(!1)}__init(){super.__init()}__attach(){super.__attach(),null!=this.__frostThermostat&&this.__frostThermostatLegendHandler.show()}__detach(){super.__detach(),this.__frostThermostatLegendHandler.hide()}destroy(){var t,e;this.__keepAlive||(null===(t=this.__frostThermostat)||void 0===t||t.destroy(),null===(e=this.__tFrost)||void 0===e||e.destroy(),super.destroy())}onResized(){if(!this.__isAttached)return;super.onResized();let t=this.__element.children(".connection.return").position().left,e=this.__element.children(".connection.return").width();if(this.__returnTempSensor){let s=this.__returnTempSensor.getElement().position().left;this.__returnTempSensor.setConnections({left:s-(t+e)})}}setSetpointSensorFrost(t){var e;return null===(e=this.__tFrost)||void 0===e||e.setSetpointDesigner(t),this}setShowFeedbackSensorFrost(t){var e;return null===(e=this.__tFrost)||void 0===e||e.setShowFeedback(t),this}getShowFeedbackSensorFrost(){var t;return null===(t=this.__tFrost)||void 0===t?void 0:t.getShowFeedback()}setShowSetpointSensorFrost(t){var e;return null===(e=this.__tFrost)||void 0===e||e.setShowSetpoint(t),this}getShowSetpointSensorFrost(){var t;return null===(t=this.__tFrost)||void 0===t?void 0:t.getShowSetpoint()}processBaObject(){var t,s;if(super.processBaObject(),null===(t=this.__frostThermostat)||void 0===t||t.setBaObject(null),null===(s=this.__tFrost)||void 0===s||s.setBaObject(null),null!=this.baObjectHandler.baObject&&this.baObjectHandler.baObject.checkTemplate(o.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,this,!0)){if(this.__frostThermostat){let t=this.baObjectHandler.baObject.findChildBySubjectInfoIdentifier("FrostThermostat");t instanceof e.BA.BaView?(this.__frostThermostat.setBaObject(t),this.__frostThermostat.getIsAttached()||(this.__element.append(this.__frostThermostat.getElement()),this.__frostThermostatLegendHandler.show())):(this.__frostThermostat.setBaObject(null),this.__frostThermostat.getIsAttached()&&(this.__frostThermostat.getElement().detach(),this.__frostThermostatLegendHandler.hide()))}if(this.__tFrost){let t=this.baObjectHandler.baObject.findChildBySubjectInfoIdentifier("TFrost");t instanceof e.BA.BaView?(this.__tFrost.setBaObject(t),this.__tFrost.getIsAttached()||this.__element.append(this.__tFrost.getElement())):(this.__tFrost.setBaObject(null),this.__tFrost.getIsAttached()&&this.__tFrost.getElement().detach())}}}__processShowTags(){var t,s,o,i;super.__processShowTags(),this.__attrHandler.showTags?(null===(t=this.__frostThermostat)||void 0===t||t.setShowTag(e.Components.UiIcon.DisplayPosition.top),null===(s=this.__tFrost)||void 0===s||s.setShowTag(e.Components.UiIcon.DisplayPosition.top)):(null===(o=this.__frostThermostat)||void 0===o||o.setShowTag(null),null===(i=this.__tFrost)||void 0===i||i.setShowTag(null))}}s.PreHeater=o,function(t){t.BaTemplateDefinition=Object.assign(Object.assign({},s.HeatingCircuit.BaTemplateDefinition),{tempFlowSp:{optional:!0},frostThermostat:{optional:!0},tFrost:{optional:!0}}),t.BaTemplateDescription=Object.assign(Object.assign({},s.HeatingCircuit.BaTemplateDescription),{tempFlowSp:{identifier:""},frostThermostat:{identifier:"FrostThermostat"},tFrost:{identifier:"TFrost"}})}(o=s.PreHeater||(s.PreHeater={}))}(s.Plants||(s.Plants={}))}(e.Controls||(e.Controls={}))}(t.BuildingAutomation||(t.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("PreHeater","TcHmi.BuildingAutomation.Controls.Plants",TcHmi.BuildingAutomation.Controls.Plants.PreHeater);