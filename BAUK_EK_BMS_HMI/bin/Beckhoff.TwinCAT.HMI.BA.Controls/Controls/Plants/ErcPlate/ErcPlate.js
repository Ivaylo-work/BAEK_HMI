var TcHmi;!function(e){!function(t){!function(i){!function(s){class o extends i.System.BaseTemplate{constructor(e,i,s){super(e,i,s),this.__defaultBaTemplateDescription=o.BaTemplateDescription,this.__legendIconHandler=new t.Components.LegendIconHandler,this.__diffPrssSwiLegendIconHandler=new t.Components.LegendIconHandler}__previnit(){this.__diffPrssSwi=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Common.UiIcon",this.__id+"-diff-prss-swi",null,this),null!=this.__diffPrssSwi&&(this.__diffPrssSwi.setConnections({left:16,right:16}).setConnectionExtensions({bottom:76}).setIcon(t.Icons.HVAC.Pressure_s.path).getElement().addClass("diff-prss-swi"),this.__element.append(this.__diffPrssSwi.getElement()),this.__diffPrssSwiLegendIconHandler.icon=t.Icons.HVAC.Pressure_s),this.__main=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Common.UiIcon",this.__id+"-main",null,this),null!=this.__main&&(this.__main.setIcon(t.Icons.HVAC.Erc_plate.path).getElement().addClass("main"),this.__element.append(this.__main.getElement()),this.__legendIconHandler.icon=t.Icons.HVAC.Erc_plate),this.__damper=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.Damper",this.__id+"-damper",null,this),this.__damper&&(this.__damper.setShowDisplays(!0),this.__damper.setDisplayPositionDesigner(t.Components.UiIcon.DisplayPosition.top),this.__damper.getElement().addClass("damper"),this.__element.append(this.__damper.getElement()[0])),this.__damperBy=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.Damper",this.__id+"-damper-by",null,this),this.__damperBy&&(this.__damperBy.setShowDisplays(!0),this.__damperBy.setDisplayPositionDesigner(t.Components.UiIcon.DisplayPosition.top),this.__damperBy.getElement().addClass("damper-by"),this.__damperBy.setConnections({left:130,right:35}),this.__damperBy.setConnectionExtensions({top:120}),this.__damperBy.setConnectionsWidth(10),this.__element.append(this.__damperBy.getElement()[0])),super.__previnit()}__init(){super.__init()}__attach(){var e;super.__attach(),this.__legendIconHandler.show(),(null===(e=this.__diffPrssSwi)||void 0===e?void 0:e.getIsAttached())&&this.__diffPrssSwiLegendIconHandler.show()}__detach(){super.__detach(),this.__legendIconHandler.hide(),this.__diffPrssSwiLegendIconHandler.hide()}destroy(){var e,t,i,s;this.__keepAlive||(null===(e=this.__main)||void 0===e||e.destroy(),null===(t=this.__damper)||void 0===t||t.destroy(),null===(i=this.__damperBy)||void 0===i||i.destroy(),null===(s=this.__diffPrssSwi)||void 0===s||s.destroy(),super.destroy())}setFlowPipeColor(t){let i=e.ValueConverter.toObject(t);return null==i&&(i=this.getAttributeDefaultValueInternal("FlowPipeColor")),tchmi_equal(i,this.__attrHandler.flowPipeColor)||(this.__attrHandler.flowPipeColor=i,this.__processFlowPipeColor(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FlowPipeColor"})),this}__processFlowPipeColor(){var e;this.__attrHandler.flowPipeColor&&(null===(e=this.__damperBy)||void 0===e||e.setConnectionColors({left:t.Color.RGBAColor.fromSolidColor(this.__attrHandler.flowPipeColor),top:null,right:t.Color.RGBAColor.fromSolidColor(this.__attrHandler.returnPipeColor),bottom:null}))}getFlowPipeColor(){return this.__attrHandler.flowPipeColor}setReturnPipeColor(t){let i=e.ValueConverter.toObject(t);return null==i&&(i=this.getAttributeDefaultValueInternal("ReturnPipeColor")),tchmi_equal(i,this.__attrHandler.returnPipeColor)||(this.__attrHandler.returnPipeColor=i,this.__processReturnPipeColor(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ReturnPipeColor"})),this}__processReturnPipeColor(){this.__attrHandler.returnPipeColor&&this.__processFlowPipeColor()}getReturnPipeColor(){return this.__attrHandler.returnPipeColor}setShowFeedbackDamper(e){var t;return null===(t=this.__damper)||void 0===t||t.setShowFeedback(e),this}getShowFeedbackDamper(){var e;return null===(e=this.__damper)||void 0===e?void 0:e.getShowFeedback()}setShowSetpointDamper(e){var t;return null===(t=this.__damper)||void 0===t||t.setShowSetpoint(e),this}getShowSetpointDamper(){var e;return null===(e=this.__damper)||void 0===e?void 0:e.getShowSetpoint()}setShowFeedbackDamperBy(e){var t;return null===(t=this.__damperBy)||void 0===t||t.setShowFeedback(e),this}getShowFeedbackDamperBy(){var e;return null===(e=this.__damperBy)||void 0===e?void 0:e.getShowFeedback()}setShowSetpointDamperBy(e){var t;return null===(t=this.__damperBy)||void 0===t||t.setShowSetpoint(e),this}getShowSetpointDamperBy(){var e;return null===(e=this.__damperBy)||void 0===e?void 0:e.getShowSetpoint()}processBaObject(){var e,t,i,s,n;if(super.processBaObject(),null===(e=this.__main)||void 0===e||e.setBaObject(null),null===(t=this.__damper)||void 0===t||t.setBaObject(null),null===(i=this.__damperBy)||void 0===i||i.setBaObject(null),null===(s=this.__diffPrssSwi)||void 0===s||s.setBaObject(null),null!=this.baObjectHandler.baObject&&this.baObjectHandler.baObject.checkTemplate(o.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,this,!0)){if(null===(n=this.__main)||void 0===n||n.setBaObject(this.baObjectHandler.baObject),this.__damper){let e=this.baObjectHandler.baObject.getTemplateChild("damper");e?(this.__damper.setBaObject(e),this.__damper.getIsAttached()||this.__element.append(this.__damper.getElement())):this.__damper.getIsAttached()&&this.__damper.getElement().detach()}if(this.__damperBy){let e=this.baObjectHandler.baObject.getTemplateChild("damperBy");e?(this.__damperBy.setBaObject(e),this.__damperBy.getIsAttached()||this.__element.append(this.__damperBy.getElement())):this.__damperBy.getIsAttached()&&this.__damperBy.getElement().detach()}if(this.__diffPrssSwi){let e=this.baObjectHandler.baObject.getTemplateChild("diffPrssSwi");e?(this.__diffPrssSwi.setBaObject(e),this.__diffPrssSwi.getIsAttached()||(this.__diffPrssSwi.getElement().insertBefore(this.__main.getElement()),this.__diffPrssSwiLegendIconHandler.show())):this.__diffPrssSwi.getIsAttached()&&(this.__diffPrssSwi.getElement().detach(),this.__diffPrssSwiLegendIconHandler.hide())}}}__processShowTags(){var e,i,s,o,n,r,a,l;super.__processShowTags(),this.__attrHandler.showTags?(null===(e=this.__main)||void 0===e||e.setShowTag(t.Components.UiIcon.DisplayPosition.right),null===(i=this.__damper)||void 0===i||i.setShowTag(t.Components.UiIcon.DisplayPosition.bottom),null===(s=this.__damperBy)||void 0===s||s.setShowTag(t.Components.UiIcon.DisplayPosition.bottom),null===(o=this.__diffPrssSwi)||void 0===o||o.setShowTag(t.Components.UiIcon.DisplayPosition.top)):(null===(n=this.__main)||void 0===n||n.setShowTag(null),null===(r=this.__damper)||void 0===r||r.setShowTag(null),null===(a=this.__damperBy)||void 0===a||a.setShowTag(null),null===(l=this.__diffPrssSwi)||void 0===l||l.setShowTag(null))}}s.ErcPlate=o,function(e){e.BaTemplateDefinition={damper:{subTemplate:s.Damper.BaTemplateDefinition,optional:!0},damperBy:{subTemplate:s.Damper.BaTemplateDefinition,optional:!0},diffPrssSwi:{optional:!0}},e.BaTemplateDescription={damper:{identifier:"Dmp",subTemplate:s.Damper.BaTemplateDescription},damperBy:{identifier:"ByDmp",subTemplate:s.Damper.BaTemplateDescription},diffPrssSwi:{identifier:"DiffPrssSwi"}}}(o=s.ErcPlate||(s.ErcPlate={}))}(i.Plants||(i.Plants={}))}(t.Controls||(t.Controls={}))}(e.BuildingAutomation||(e.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("ErcPlate","TcHmi.BuildingAutomation.Controls.Plants",TcHmi.BuildingAutomation.Controls.Plants.ErcPlate);